"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[424],{3030:function(e,n,t){t.d(n,{Bm:function(){return g},HI:function(){return a},JZ:function(){return c},M:function(){return m},R0:function(){return j},ZJ:function(){return x},_p:function(){return p},kE:function(){return h},oW:function(){return l},rC:function(){return d},rU:function(){return v},tx:function(){return s},vB:function(){return u},zv:function(){return f}});var r=t(4165),o=t(5861),i=t(885),a=function(e){console.log(e);var n=(0,i.Z)(e.queryKey,2)[1].id;return fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},c=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=0c61d53d186daef68ff75fefa4558c3b&language=en-US").then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){var n=e.queryKey,t=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/movie/".concat(t,"/images?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},s=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b")).then((function(e){return e.json()})).then((function(e){return e.results}))},f=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b","&language=en-US")).then((function(e){return e.json()})).then((function(e){return console.log(e),e}))},d=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat("0c61d53d186daef68ff75fefa4558c3b","&language=en-US&include_adult=false&include_video=false&page=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("0c61d53d186daef68ff75fefa4558c3b","&language=en-US&include_adult=false&page=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("0c61d53d186daef68ff75fefa4558c3b","&language=en-US&include_adult=false&page=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.themoviedb.org/3/movie/popular?api_key=".concat("0c61d53d186daef68ff75fefa4558c3b","&language=en-US&include_adult=false&page=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.themoviedb.org/3/tv/popular?api_key=".concat("0c61d53d186daef68ff75fefa4558c3b","&language=en-US&page=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(e){console.log(e);var n=(0,i.Z)(e.queryKey,2)[1].id;return fetch("https://api.themoviedb.org/3/tv/".concat(n,"?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},g=function(e){return fetch("https://api.themoviedb.org/3/tv/".concat(e,"/credits?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b","&language=en-US")).then((function(e){return e.json()})).then((function(e){return e}))},x=function(e){var n=e.queryKey,t=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/tv/".concat(t,"/images?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},j=function(e){return fetch("https://api.themoviedb.org/3/tv/".concat(e,"/reviews?api_key=").concat("0c61d53d186daef68ff75fefa4558c3b")).then((function(e){return e.json()})).then((function(e){return e.results}))}},4436:function(e,n,t){t(2791);var r=t(7394),o=t(8264),i=t(6650),a=t(3811),c=t(4565),u=t(7689),s=t(184);n.Z=function(e){var n=e.title,t=(0,u.s0)();return(0,s.jsxs)(i.Z,{component:"div",sx:{borderRadius:"50px",backgroundColor:"rgba(255, 255, 0,0.7)",display:"flex",justifyContent:"space-around",flexWrap:"wrap",marginBottom:1.5},children:[(0,s.jsx)(a.Z,{"aria-label":"go back",onClick:function(){return t(-1)},children:(0,s.jsx)(r.Z,{color:"primary",fontSize:"large"})}),(0,s.jsx)(c.Z,{variant:"h4",component:"h3",children:n}),(0,s.jsx)(a.Z,{"aria-label":"go forward",onClick:function(){return t(1)},children:(0,s.jsx)(o.Z,{color:"primary",fontSize:"large"})})]})}},3242:function(e,n,t){t.d(n,{Z:function(){return F}});var r=t(885),o=t(2791),i=t(4436),a=t(3219),c=t(8928),u=t(6875),s=t(5194),f=t(199),d=t(6398),l=t(7205),h=t(4565),p=t(7237),v=t(7102),m=t(4275),g=t(340),x=t(5953),j=t(578),Z=t(1087),w=t(3978),b=t(1413),k=t(184);function y(e){var n=e.movie,t=e.action,r=(0,o.useContext)(b.m),i=r.favorites,a=r.playlists;return i.find((function(e){return e===n.id}))?n.favorite=!0:n.favorite=!1,a.find((function(e){return e===n.id}))?n.playlist=!0:n.playlist=!1,(0,k.jsxs)(c.Z,{sx:{maxWidth:345,backgroundImage:"url('https://wallpaperboat.com/wp-content/uploads/2019/10/high-resolution-black-background-06.jpg')"},children:[(0,k.jsx)(d.Z,{avatar:n.favorite?(0,k.jsx)(w.Z,{sx:{backgroundColor:"red"},children:(0,k.jsx)(p.Z,{})}):n.playlist?(0,k.jsx)(w.Z,{sx:{backgroundColor:"red"},children:(0,k.jsx)(v.Z,{})}):null,title:(0,k.jsxs)(h.Z,{sx:{color:"white"},variant:"h6",component:"p",children:[n.title," "]})}),(0,k.jsx)(f.Z,{sx:{height:500},image:n.poster_path?"https://image.tmdb.org/t/p/w500/".concat(n.poster_path):j}),(0,k.jsx)(s.Z,{sx:{color:"white"},children:(0,k.jsxs)(x.ZP,{container:!0,children:[(0,k.jsx)(x.ZP,{item:!0,xs:7,children:(0,k.jsxs)(h.Z,{variant:"h6",component:"p",children:[(0,k.jsx)(m.Z,{fontSize:"small"})," ",n.release_date]})}),(0,k.jsx)(x.ZP,{item:!0,xs:6,children:(0,k.jsxs)(h.Z,{variant:"h6",component:"p",children:[(0,k.jsx)(g.Z,{fontSize:"small"}),"  "," ",n.vote_average," "]})})]})}),(0,k.jsxs)(u.Z,{disableSpacing:!0,children:[t(n),(0,k.jsx)(Z.rU,{to:"/movies/".concat(n.id),children:(0,k.jsx)(l.Z,{variant:"outlined",size:"medium",color:"primary",children:"More Info ..."})})]})]})}var _=function(e){var n=e.movies,t=e.action;return n.map((function(e){return(0,k.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,k.jsx)(y,{movie:e,action:t},e.id)},e.id)}))},C=t(4585),S=t(317),z=t(8046),U=t(190),P=t(3108),E=(0,o.lazy)((function(){return Promise.all([t.e(17),t.e(566)]).then(t.bind(t,8566))})),I=(0,S.Z)((function(){return{root:{position:"fixed",overflow:"hidden",bottom:0,zIndex:200,backgroundColor:"rgba(95,90,90,0.9)",padding:"5px 0px",color:"white",width:"100vw",marginLeft:"-2vw"},signOut:{position:"fixed",overflow:"hidden",bottom:0,zIndex:200,marginLeft:"-2vw",right:"2em"},deleteAccount:{position:"fixed",overflow:"hidden",bottom:0,zIndex:200,marginLeft:"-2vw",left:"2em"}}}));var F=function(e){var n=e.movies,t=e.title,c=e.action,u=e.pages,s=e.setPage,f=(e.current_page,(0,o.useState)("")),d=(0,r.Z)(f,2),l=d[0],h=d[1],p=(0,o.useState)("0"),v=(0,r.Z)(p,2),m=v[0],g=v[1],j=(0,o.useState)("0"),Z=(0,r.Z)(j,2),w=Z[0],b=Z[1],y=Number(m),S=n.filter((function(e){return-1!==e.title.toLowerCase().search(l.toLowerCase())})).filter((function(e){return!(y>0)||e.genre_ids.includes(y)})).filter((function(e){return 0===w?e:1===w?e.vote_average>=8:2===w?e.vote_average>=5&&e.vote_average<=8:3===w?e.vote_average<=5:e})),F=I();return(0,k.jsxs)(x.ZP,{container:!0,sx:{padding:"20px",backgroundColor:"rgba(0,0,0,0.1)"},children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(i.Z,{title:t})}),(0,k.jsxs)(x.ZP,{item:!0,container:!0,spacing:5,children:[(0,k.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,k.jsx)(o.Suspense,{fallback:(0,k.jsx)(a.Z,{}),children:(0,k.jsx)(E,{onUserInput:function(e,n){"name"===e&&h(n),"genre"===e&&g(n),"rating"===e&&b(n)},titleFilter:l,genreFilter:m,ratingFilter:w})})},"find"),(0,k.jsx)(_,{action:c,movies:S})]}),(0,k.jsx)("div",{className:F.root,children:(0,k.jsx)(C.Z,{count:u,defaultPage:1,color:"primary",size:"large",hideNextButton:!0,hidePrevButton:!0,variant:"outlined",shape:"rounded",onChange:function(e){return n=e.target.textContent,s(n),void window.scroll(0,0);var n},style:{display:"flex",justifyContent:"center"}})}),(0,k.jsx)("div",{className:F.signOut,children:(0,k.jsx)(z.Z,{color:"primary",variant:"extended",onClick:function(){return U.w7(P.Z)},children:"Sign Out!"})}),(0,k.jsx)("div",{className:F.deleteAccount,children:(0,k.jsx)(z.Z,{color:"secondary",variant:"extended",onClick:function(){return U.h8(P.Z.currentUser)},children:"Delete Account!"})})]})}},8424:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(2791),o=t(3242),i=t(1413),a=t(1933),c=t(3030),u=t(3219),s=t(3811),f=t(7247),d=t(184),l=function(e){var n=e.movie,t=(0,r.useContext)(i.m);return(0,d.jsx)(s.Z,{"aria-label":"remove from favorites",onClick:function(e){e.preventDefault(),t.removeFromFavorites(n)},children:(0,d.jsx)(f.Z,{color:"primary",fontSize:"large"})})},h=t(5776),p=t(1087),v=function(e){var n=e.movie;return(0,d.jsx)(p.rU,{to:"/reviews/form",state:{movieId:n.id},children:(0,d.jsx)(h.Z,{color:"primary",fontSize:"large"})})},m=function(){var e=(0,r.useContext)(i.m).favorites,n=(0,a.useQueries)(e.map((function(e){return{queryKey:["movie",{id:e}],queryFn:c.HI}})));if(n.find((function(e){return!0===e.isLoading})))return(0,d.jsx)(u.Z,{});var t=n.map((function(e){return e.data.genre_ids=e.data.genres.map((function(e){return e.id})),e.data}));return(0,d.jsx)(o.Z,{title:"Favourite Movies",movies:t,action:function(e){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l,{movie:e}),(0,d.jsx)(v,{movie:e})]})}})}},7247:function(e,n,t){var r=t(4836);n.Z=void 0;var o=r(t(5649)),i=t(184),a=(0,o.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=a},5776:function(e,n,t){var r=t(4836);n.Z=void 0;var o=r(t(5649)),i=t(184),a=(0,o.default)((0,i.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"}),"RateReview");n.Z=a},578:function(e,n,t){e.exports=t.p+"static/media/film-poster-placeholder.9a8182eb4c8ae70fe602.png"}}]);
//# sourceMappingURL=424.0953f238.chunk.js.map