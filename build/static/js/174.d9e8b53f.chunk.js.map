{"version":3,"file":"static/js/174.d9e8b53f.chunk.js","mappings":"yJAoBA,IAf2B,SAAH,GAAmB,IAAbA,EAAK,EAALA,MACtBC,GAAUC,EAAAA,EAAAA,YAAWC,EAAAA,GAO3B,OACE,SAAC,IAAU,CAAC,aAAW,mBAAmBC,QANf,SAACC,GAC5BA,EAAEC,iBACFL,EAAQM,eAAeP,EACzB,EAG0E,UACtE,SAAC,IAAY,CAACQ,MAAM,UAAUC,SAAS,WAG7C,C,+GCgCA,UA1CiB,SAACC,GAChB,OAAuBC,EAAAA,EAAAA,UAAS,GAAE,eAA3BC,EAAI,KAACC,EAAO,KAEnB,GAAuDC,EAAAA,EAAAA,UAAS,WAAW,kBAAMC,EAAAA,EAAAA,IAAqBH,EAAK,GAAC,CAACI,SAAS,IAA5GC,EAAI,EAAJA,KAAMC,EAAK,EAALA,MAAOC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAAQC,EAAO,EAAPA,QAS1C,IANAC,EAAAA,EAAAA,YAAU,WACRD,GAED,GAAG,CAACT,IAGDO,EACF,OAAO,SAAC,IAAO,IAIjB,GAAIC,EACF,OAAO,wBAAKF,EAAMK,UAIrB,IAAMC,EAASP,EAAKQ,QAIdC,EAAeT,EAAKL,KAEnBe,EAAYH,EAAOI,QAAO,SAAAC,GAAC,OAAIA,EAAEC,QAAQ,IAK/C,OAJAC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,KAM/C,SAAC,IAAY,CAACQ,MAAM,iBAAiBX,OAAQA,EAAQE,aAAgBA,EAAcU,MAAO,IAAKvB,QAASA,EAASwB,OAAQ,SAACrC,GACtH,OAAO,SAAC,IAAkB,CAACA,MAAOA,GAAS,GAKnD,C","sources":["components/cardIcons/addToFavorites.js","pages/popularMoviesPage.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { MoviesContext } from \"../../contexts/moviesContext\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\n\r\nconst AddToFavoritesIcon = ({ movie }) => {\r\n  const context = useContext(MoviesContext);\r\n\r\n  const handleAddToFavorites = (e) => {\r\n    e.preventDefault();\r\n    context.addToFavorites(movie);\r\n  };\r\n\r\n  return (\r\n    <IconButton aria-label=\"add to favorites\" onClick={handleAddToFavorites}>\r\n      <FavoriteIcon color=\"primary\" fontSize=\"large\" />\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default AddToFavoritesIcon;","import React, {useState,useEffect} from \"react\";\r\nimport { getPopularMoviesPage } from \"../api/tmdb-api\";\r\nimport PageTemplate from '../components/templateMovieListPage';\r\nimport { useQuery } from 'react-query';\r\nimport Spinner from '../components/spinner';\r\nimport AddToFavoritesIcon from '../components/cardIcons/addToFavorites'\r\n\r\n\r\nconst HomePage = (props) => {\r\n  const [page,setPage] = useState(1)\r\n\r\n  const  {  data, error, isLoading, isError,refetch }  = useQuery(\"popular\", () => getPopularMoviesPage(page),{enabled: true }) \r\n\r\n\r\n  useEffect(() => { \r\n    refetch();\r\n    // eslint-disable-next-line\r\n   }, [page]);\r\n\r\n \r\n  if (isLoading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  \r\n  if (isError) {\r\n    return <h1>{error.message}</h1>\r\n  } \r\n\r\n //Gets the result for the first page \r\n const movies = data.results;\r\n //gets the total number of available pages for the query -- MAX is 500\r\n //const total_pages = data.total_pages // -- For pagination\r\n //gets the current page\r\n const current_page = data.page\r\n  // Redundant, but necessary to avoid app crashing.\r\n  const favorites = movies.filter(m => m.favorite)\r\n  localStorage.setItem('favorites', JSON.stringify(favorites))\r\n  //const addToFavorites = (movieId) => true \r\n\r\n\r\n  return (\r\n    \r\n    <PageTemplate title=\"Popular Movies\" movies={movies} current_page = {current_page} pages={500} setPage={setPage} action={(movie) => {\r\n        return <AddToFavoritesIcon movie={movie} />}}\r\n        />  \r\n        \r\n);\r\n\r\n};\r\nexport default HomePage;"],"names":["movie","context","useContext","MoviesContext","onClick","e","preventDefault","addToFavorites","color","fontSize","props","useState","page","setPage","useQuery","getPopularMoviesPage","enabled","data","error","isLoading","isError","refetch","useEffect","message","movies","results","current_page","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","title","pages","action"],"sourceRoot":""}